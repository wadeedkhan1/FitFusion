<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: html(content=~{::div})}">

<body>
    <div class="max-w-5xl mx-auto">
        <div class="mb-6">
            <a th:href="@{/exercises/muscle/{id}(id=${exercise.muscleGroup.id})}"
                class="text-slate-500 hover:text-slate-900 text-sm font-medium flex items-center">
                &larr; Back to <span th:text="${exercise.muscleGroup.name}" class="ml-1">Muscle Group</span>
            </a>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Main Content -->
            <div class="lg:col-span-2 space-y-8">
                <div>
                    <h1 class="text-4xl font-bold text-slate-900 mb-4" th:text="${exercise.name}">Exercise Name</h1>
                    <div class="prose prose-slate max-w-none text-slate-600" th:utext="${exercise.overview}">
                        Overview text...
                    </div>
                </div>

                <!-- Video Section -->
                <div class="aspect-video bg-black rounded-2xl overflow-hidden shadow-lg" th:if="${exercise.videoUrl}">
                    <iframe class="w-full h-full" th:src="${exercise.videoUrl}" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
                </div>

                <!-- Instructions -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <h2 class="text-2xl font-bold text-slate-900 mb-4">Instructions</h2>
                    <!-- Assuming instructions are stored as plain text with newlines for now, or we can parse JSON later -->
                    <div class="space-y-4 text-slate-700 whitespace-pre-line" th:text="${exercise.instructions}">
                        Step 1...
                    </div>
                </div>

                <!-- Tips -->
                <div class="bg-blue-50 p-6 rounded-2xl border border-blue-100" th:if="${exercise.tips}">
                    <h2 class="text-xl font-bold text-blue-900 mb-4 flex items-center">
                        <span class="mr-2">ðŸ’¡</span> Pro Tips
                    </h2>
                    <div class="space-y-2 text-blue-800 whitespace-pre-line" th:text="${exercise.tips}">
                        Tip 1...
                    </div>
                </div>
            </div>

            <!-- Sidebar Info -->
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold text-slate-900 mb-4 border-b border-slate-100 pb-2">Exercise Profile
                    </h3>

                    <dl class="space-y-4">
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Target Muscle</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.muscleGroup.name}">Muscle</dd>
                        </div>
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Type</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.exerciseType}">Strength</dd>
                        </div>
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Equipment</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.equipmentRequired}">Barbell</dd>
                        </div>
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Mechanics</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.mechanics}">Compound</dd>
                        </div>
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Force Type</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.forceType}">Push</dd>
                        </div>
                        <div>
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Level</dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.experienceLevel}">Intermediate
                            </dd>
                        </div>
                        <div th:if="${exercise.secondaryMuscles}">
                            <dt class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Secondary Muscles
                            </dt>
                            <dd class="text-slate-900 font-medium" th:text="${exercise.secondaryMuscles}">Triceps</dd>
                        </div>
                    </dl>
                </div>

                <button
                    class="w-full bg-primary text-white py-3 rounded-xl font-bold shadow-lg hover:bg-blue-700 transition transform hover:-translate-y-0.5">
                    + Add to Workout Plan
                </button>
            </div>
        </div>
    </div>
</body>

</html>